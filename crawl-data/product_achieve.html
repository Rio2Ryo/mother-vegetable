<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Title -->
    <title>Mother Vegetable | Achieve | Mother Vegetable - Natural Healing Products</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Mother Vegetable - Natural healing products for healthy skin. Born from Earth's life force 3.5 billion years ago, bringing you the power of nature's original nutrients for skin health and wellness.">
    <meta name="keywords" content="mother vegetable, natural healing, skin care, natural products, healthy skin, nutrition, wellness, cosmetic function, food function, natural skincare, eczema treatment, skin inflammation, anti-aging, natural supplements, pet nutrition, athlete nutrition">
    <meta name="author" content="Mother Vegetable">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph Meta Tags (Facebook, LinkedIn) -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Mother Vegetable">
    <meta property="og:title" content="Mother Vegetable - Natural Healing Products for Healthy Skin">
    <meta property="og:description" content="Discover natural healing products born from Earth's life force. Achieve healthier skin and wellness with our food and cosmetic function products.">
    <meta property="og:image" content="/Images/Assets/General/logo.png">
    <meta property="og:url" content="">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card Meta Tags -->
    <!-- <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Mother Vegetable - Natural Healing Products">
    <meta name="twitter:description" content="Natural healing products for healthy skin. Born from Earth's life force 3.5 billion years ago.">
    <meta name="twitter:image" content="/Images/Assets/General/logo.png">
    <meta name="twitter:creator" content="@mothervegetable"> -->
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://mothervegetable.com">
    
    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="/Images/favicon.png">
    <link rel="icon" type="image/svg+xml" href="/Images/favicon.png">
    <link rel="apple-touch-icon" href="/Images/favicon.png">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-TileColor" content="#000000">
    
    <!-- Additional SEO -->
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <!-- SweetAlert CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.js"></script>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    
    <!-- FontAwesome Icons -->
    <script src="https://kit.fontawesome.com/ac5d2da1f3.js" crossorigin="anonymous"></script>
    
    <!-- Language Loader -->
    <script src="/javascripts/languageLoader.js"></script>
    <script src="/javascripts/postLoginRedirect.js?v=1771402620144"></script>
   
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&family=Markazi+Text:wght@400..700&family=Platypi:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">


    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@25.12.2/build/js/intlTelInput.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/intl-tel-input@25.12.2/build/css/intlTelInput.min.css" crossorigin="anonymous" rel="stylesheet">

    <!-- <script src="https://staging-backoffice-salesbot.magnussolutions.services/widget.js?v=1765167282530" data-salesbot-public="5f9ba7bc-c950-4f08-a2a6-ced9dc1546c2" data-api-base="https://staging-api-salesbot.magnussolutions.services/api/v1/" async></script> -->

    <!-- <script src="https://staging-backoffice-salesbot.magnussolutions.services/widget.js?v=1768290955125" data-salesbot-public="3d203d8f-9527-4b82-99a4-b4b6c51a011a" async></script> -->
    
    <script src="https://salesbot.magnussolutions.services/widget.js?v=1768471613350" data-salesbot-public="4dbbddf8-53d5-49b6-8d24-7e2fe732de4f" async></script>

    <style>
        :root {
            --primary-color: #25C760;
            --secondary-color: #FFFFFF;
            --third-color: #3C8063;
            --background-color: black;
        }

        #salesbot-launcher {
            bottom: 50px !important;
        }
    
        #salesbot-launcher::after {
            content: "Mazavege-chan\a AI Agent";
            white-space: pre;
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'OpenSans-bold', sans-serif;
            font-size: 11px;
            color: var(--secondary-color);
            text-align: center;
            line-height: 1.2;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            pointer-events: none;
        }

        /* Smooth scrolling for the entire page */
        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--background-color);
        }

        .container-fluid {
            padding: 0;
        }

        /* Header Styles */
        .main-header {
            background-color: var(--background-color);
    padding: 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 80px;
        }

        /* Logo Styles */
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-img {
            height: 75px;
            width: auto;
            transition: all 0.3s ease;
        }

        .logo-img:hover {
            transform: scale(1.05);
        }

        /* Navigation Styles */
        .nav-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 35px;
        }

        .nav-links li {
            margin: 0;
        }

        .nav-links a {
            font-family: Arial, sans-serif;
            font-weight: 500;
            font-size: 16px;
            color: var(--primary-color);
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 0;
        }

        .nav-links a:hover {
            color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .nav-links a.active {
            color: var(--secondary-color);
            font-weight: 600;
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary-color);
            border-radius: 1px;
        }

        /* Navigation Dropdown */
        .nav-dropdown {
            position: relative;
        }

        .nav-dropdown .nav-link {
            cursor: pointer;
        }

        .nav-dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--background-color);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid var(--primary-color);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            min-width: 180px;
            margin-top: 8px;
            pointer-events: none;
            list-style: none;
            padding: 0;
            margin-left: 0;
        }

        /* Desktop hover - only on devices that support hover */
        @media (hover: hover) and (pointer: fine) {
            .nav-dropdown:hover .nav-dropdown-menu,
            .nav-dropdown-menu:hover {
                opacity: 1;
                visibility: visible;
                transform: translateY(0);
                pointer-events: auto;
            }
        }

        .nav-dropdown-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        .nav-dropdown-link {
            display: block;
            padding: 12px 16px;
            text-decoration: none;
            color: var(--secondary-color);
            font-weight: 500;
            font-size: 14px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(37, 199, 96, 0.1);
        }

        .nav-dropdown-link:last-child {
            border-bottom: none;
        }

        .nav-dropdown-link:hover {
            background: var(--primary-color);
            color: var(--secondary-color);
        }

        .nav-dropdown .fa-chevron-down {
            transition: transform 0.3s ease;
        }

        /* Desktop hover rotation */
        @media (hover: hover) and (pointer: fine) {
            .nav-dropdown:hover .fa-chevron-down {
                transform: rotate(180deg);
            }
        }

        /* Mobile click rotation */
        .nav-dropdown.show .fa-chevron-down {
            transform: rotate(180deg);
        }

        /* Cart Button */
        .cart-btn {
            background: var(--background-color);
            color: var(--secondary-color);
            border: 1px solid var(--secondary-color);
            padding: 12px 24px;
            border-radius: 5px;
            font-family: Arial, sans-serif;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 8px;
            height: 40px;
        }

        .cart-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .cart-btn:hover::before {
            left: 100%;
        }

        .cart-btn:hover {
            box-shadow: 0 8px 25px rgba(37, 199, 96, 0.4);
            transform: translateY(-3px);
            background: var(--primary-color)
        }

        /* Healthcare B2B Button */
        a.healthcare-nav-btn {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 40px;
            background: var(--background-color);
            color: var(--secondary-color);
            border: 1px solid var(--secondary-color);
            padding: 4px 12px;
            border-radius: 6px;
            font-family: Arial, sans-serif;
            font-weight: 600;
            font-size: 11px;
            line-height: 1.2;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
        }
        a.healthcare-nav-btn .healthcare-nav-btn-sub {
            font-size: 10px;
            font-weight: 500;
            white-space: nowrap;
        }
        a.healthcare-nav-btn:hover {
            box-shadow: 0 8px 25px rgba(37, 199, 96, 0.4);
            transform: translateY(-2px);
            background: var(--primary-color);
            color: var(--background-color);
            border-color: var(--primary-color);
        }

        /* Healthcare: hide in nav list on desktop */
        .healthcare-nav-mobile-item {
            display: none;
        }

        /* Profile Button */
        .profile-btn {
            color: var(--secondary-color);
            background: var(--background-color);
            border: 1px solid var(--secondary-color);
            cursor: pointer;
            height: 40px;
            width: 40px;
            border-radius: 5px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }


        .profile-btn:hover {
            box-shadow: 0 8px 25px rgba(37, 199, 96, 0.4);
            transform: translateY(-3px);
            background: var(--primary-color)
        }

        .profile-btn img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }



        /* Dropdown Menu */
        .profile-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--background-color);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid var(--primary-color);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            min-width: 200px;
            /* min-width: 245px; */
            width: max-content;
            margin-top: 8px;
            pointer-events: none;
        }

        .profile-btn:hover .profile-dropdown,
        .profile-dropdown:hover {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        /* Add delay for dropdown to stay visible */
        .profile-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
            z-index: 1001;
        }

        .profile-dropdown a {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            text-decoration: none;
            color: var(--secondary-color);
            font-weight: 500;
            font-size: 14px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(37, 199, 96, 0.1);
        }

        .profile-dropdown a:last-child {
            border-bottom: none;
        }

        .profile-dropdown a:hover {
            background: var(--primary-color);
            color: var(--secondary-color);
        }

        .profile-dropdown a i {
            margin-right: 10px;
            width: 16px;
      text-align: center;
            font-size: 14px;
        }

        .profile-dropdown a[style*="color: #F47373"] {
            color: #F47373 !important;
        }

        .profile-dropdown a[style*="color: #F47373"]:hover {
            background: #F47373;
            color: var(--secondary-color) !important;
        }

        /* Desktop Profile Button - Hidden on mobile */
        .desktop-profile-btn {
            display: flex;
        }

        /* Mobile Profile Button - Hidden on desktop */
        .mobile-profile-btn {
            display: none;
        }

        /* Language Selector */
        .language-selector {
            position: relative;
            border: 1px solid var(--secondary-color);
            border-radius: 6px;
            background-color: transparent;
            color: var(--secondary-color);
            padding: 8px 16px;
            font-family: Arial, sans-serif;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            /* min-width: 120px; */
            min-width: 60px;
            text-align: center;
            height: 40px;
        }

        .language-selector:hover {
            background-color: var(--primary-color);
            color: var(--secondary-color);
            transform: translateY(-3px);
        }

        .language-selector:hover .language-dropdown,
        .language-selector.active .language-dropdown {
            display: block;
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .current-lang {
            display: block;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--background-color);
            border: 1px solid var(--primary-color);
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            margin-top: 4px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .lang-option {
            padding: 10px 16px;
            color: var(--secondary-color);
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(37, 199, 96, 0.1);
            font-weight: 500;
        }

        .lang-option:last-child {
            border-bottom: none;
        }

        .lang-option:hover {
            background: var(--primary-color);
            color: var(--secondary-color);
        }

        /* Cart Panel */
        .cart-overlay {
            display: none;
            position: fixed;
            z-index: 10;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            top: 0;
            left: 0;
        }

        .cart-panel {
            display: none;
            z-index: 10;
            width: 40%;
            background: var(--background-color);
            top: 0;
            right: 0;
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
            border-left: 1px solid var(--primary-color);
            position: fixed;
            height: 100vh;
        }

        .cart-panel.slide-in {
            transform: translateX(100%);
            animation: slideIn 0.7s forwards;
        }

        .cart-panel.slide-out {
            transform: translateX(100%);
            animation: slideOut 0.7s forwards;
        }

        .cart-panel .cart-title {
            width: 100%;
            height: 55px;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--third-color) 100%);
            color: var(--secondary-color);
            text-transform: uppercase;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(37, 199, 96, 0.3);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .cart-panel .cart-list {
            margin: 50px 0 100px 0;
            padding: 2.5rem;
            overflow-y: auto;
            height: calc(100vh - 200px);
        }

        .cart-panel .cart-items {
            box-shadow: 0px 2px 7px rgba(139, 133, 133, 0.2);
            border: 1px solid rgba(139, 133, 133, 0.2);
            border-radius: 5px;
            margin-bottom: 15px;
        }

        .cart-panel .cart-items .product_container img {
            max-height: 70px;
            object-fit: contain;
        }

        .cart-panel .cart-qty-block {
            margin: 0;
            padding: 0;
            width: 80%;
            height: 24px;
            border: 1px solid var(--primary-color);
            border-radius: 5px;
        }

        .cart-panel .cart-trash-block {
            margin: 0;
            padding: 0;
            width: 20%;
            height: 27px;
        }

    .cart-panel .cart-plus-btn,
    .cart-panel .cart-item-qty,
    .cart-panel .cart-minus-btn {
        border: none !important;
        height: 20px !important;
        font-size: 15px !important;
        color: var(--background-color) !important;
        text-align: center !important;
        padding: unset !important;
        border-radius: unset !important;
    }

    .cart-panel .cart-plus-btn,
    .cart-panel .cart-minus-btn {
        width: 25% ;
        background-color: transparent !important;
        cursor: pointer !important;
        font-size: 23px !important;
            color: var(--primary-color) !important;
    }

    .cart-panel .cart-item-qty {
        width: 50% !important;
    }

    .cart-panel .cart-item-qty:focus {
        outline: none !important;
    }

    .cart-panel .checkout-button {
        border-radius: 5px;
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--third-color) 100%);
        color: var(--secondary-color);
        font-weight: 600;
        border: none;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 15px rgba(37, 199, 96, 0.3);
        padding: 12px 24px;
        width: 100%;
        margin-top: 20px;
    }

    .cart-panel .checkout-button:hover {
        background: linear-gradient(135deg, #2dd46b 0%, #4a9d7a 100%);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(37, 199, 96, 0.4);
    }

    .cart-panel .checkout-button a {
        color: var(--secondary-color);
        text-decoration: none;
    }

    .cart-panel .checkout-button a:hover {
        background-color: transparent;
        color: var(--secondary-color);
        text-decoration: none;
    }

    @keyframes slideIn {
        to {
        transform: translateX(0);
        }
    }

    @keyframes slideOut {
        from {
        transform: translateX(0);
        }
    }

    /* Hamburger Menu Styles */
    .hamburger-btn {
        display: none;
        flex-direction: column;
        justify-content: space-around;
        width: 30px;
        height: 30px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 1001;
        transition: all 0.3s ease;
    }

    .hamburger-line {
        width: 100%;
        height: 3px;
        background-color: var(--primary-color);
        border-radius: 2px;
        transition: all 0.3s ease;
        transform-origin: center;
    }

    .hamburger-btn.active .hamburger-line:nth-child(1) {
        transform: rotate(45deg) translate(8px, 7px);
    }

    .hamburger-btn.active .hamburger-line:nth-child(2) {
        opacity: 0;
    }

    .hamburger-btn.active .hamburger-line:nth-child(3) {
        transform: rotate(-45deg) translate(6px, -6px);
    }

        /* Mobile Responsive */
    @media (max-width: 850px) {
            .header-container {
                padding: 0 15px;
                height: 70px;
            }

            .nav-container {
                gap: 10px;
            }

            /* Show hamburger button */
            .hamburger-btn {
                display: flex;
            }

            /* Hide nav links by default on mobile */
            .nav-links-container {
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                max-width: 300px;
                height: 100vh;
                background-color: var(--background-color);
                border-left: 2px solid var(--primary-color);
                transition: right 0.3s ease;
                z-index: 1000;
                padding: 80px 20px 20px;
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
            }

            .nav-links-container.active {
                right: 0;
            }

            .nav-links {
                flex-direction: column;
                gap: 30px;
                align-items: flex-start;
            }

            .nav-links a {
                font-size: 18px;
                color: var(--secondary-color);
                padding: 10px 0;
                border-bottom: 1px solid rgba(37, 199, 96, 0.2);
                width: 100%;
                display: block;
            }
            .nav-dropdown-link:hover{
                color: var(--secondary-color) !important;
            }

            .nav-links a:hover {
                color: var(--primary-color);
                transform: translateX(10px);
            }

            /* Hide Healthcare button from top bar on mobile */
            .healthcare-nav-desktop {
                display: none !important;
            }

            /* Show Healthcare in mobile nav list as button */
            .healthcare-nav-mobile-item {
                display: list-item;
                list-style: none;
                margin-top: 12px;
                width: 100%;
            }

            .healthcare-nav-mobile-item .healthcare-nav-mobile-btn {
                margin-top: 10px;
                display: inline-flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                width: fit-content;
                /* width: 100%; */
                padding: 5px 20px;
                /* padding: 12px 20px; */
                border: 1px solid var(--secondary-color);
                border-radius: 6px;
                border-bottom: 1px solid var(--secondary-color);
                font-size: 14px;
                font-weight: 600;
                text-align: center;
                text-decoration: none;
                color: var(--secondary-color);
                background: var(--background-color);
                transition: all 0.3s ease;
                box-sizing: border-box;
            }

            .healthcare-nav-mobile-item .healthcare-nav-mobile-btn:hover {
                background: var(--primary-color);
                color: var(--background-color);
                border-color: var(--primary-color);
                transform: translateX(0);
            }

            .healthcare-nav-mobile-sub {
                display: block;
                font-size: 13px;
                font-weight: 500;
                opacity: 0.95;
                /* margin-top: 4px; */
            }

            /* Hide desktop profile button on mobile */
            .desktop-profile-btn {
                display: none;
            }

            /* Show mobile profile button on mobile */
            .mobile-profile-btn {
                display: flex;
                position: relative;
                /* margin-top: 20px; */
                padding: 12px 16px;
                background: var(--background-color);
                border: 2px solid var(--primary-color);
                border-radius: 8px;
                color: var(--secondary-color);
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            /* Ensure profile dropdown appears above nav-links in mobile */
            .mobile-profile-btn .profile-dropdown {
                z-index: 1001;
            }

            .mobile-profile-btn .profile-dropdown.show {
                z-index: 1001;
            }

            .mobile-profile-btn:hover {
                background-color: rgba(37, 199, 96, 0.1);
                border-color: var(--third-color);
            }

            .logo-img {
                height: 50px;
            }

            .cart-btn {
                padding: 8px 16px;
                font-size: 12px;
            }

            .profile-btn {
                height: 40px;
                width: 40px;
            }

            .profile-btn img {
                width: 30px;
                height: 30px;
            }

            .cart-panel {
      width: 100%;
    }

            /* Cart list padding and item layout on mobile */
            .cart-panel .cart-list { padding: 1.25rem; margin: 20px 0 90px 0; }
            .cart-panel .cart-items { padding: 8px 10px; }
            .cart-panel .cart-items .product_container img { max-height: 56px; }
            .cart-panel .cart-qty-block { height: 28px; }
            .cart-panel .cart-plus-btn, .cart-panel .cart-minus-btn { font-size: 18px; height: 24px; }
            .cart-panel .cart-item-qty { height: 24px; }
            .cart-panel .checkout_panel { padding-left: 1rem !important; padding-right: 1rem !important; }
        }

        @media (max-width: 600px) {
            .nav-links-container {
                width: 90%;
                max-width: 280px;
                padding: 70px 15px 15px;
            }

            .nav-links {
                /* gap: 25px; */
                padding-top: 25px;
                gap: 5px;
                position: relative;
                z-index: -1;
                width: 100%;
            }

            .nav-links li{width:100%;}

            .nav-links a {
                font-size: 16px;
            }

            .cart-btn {
                padding: 6px 12px;
                font-size: 11px;
            }

            .profile-dropdown{width: 100%;}
        }
</style>
</head>
<body>
    <header class="main-header">
        <div class="header-container">
            <!-- Logo Section -->
            <div class="logo-container">
                <a href="/" id="logo-link" onclick="handleLogoClick(event)">
                    <img src="/Images/Assets/General/logo.png" alt="Mother Vegetable Logo" class="logo-img">
                </a>
            </div>

            <!-- Navigation Section -->
            <div class="nav-container">
                <nav class="nav-links-container">

                    
                            <a class="profile-btn mobile-profile-btn" style="width: 100%; margin-bottom: 10px;" href="/login?redirect=%2Fproduct%2Fachieve" style="text-decoration: none;">
                                <i class="fa-solid fa-user"></i> 
                                <span data-lang="login.login" class="px-2"> LOGIN</span>
                            </a>
                            <a class="profile-btn mobile-profile-btn" style="width: 100%;" href="/signup" style="text-decoration: none;">
                                <i class="fa fa-user-plus"></i> 
                                <span data-lang="signup.signUp" class="px-2"> Sign Up</span>
                            </a>
                        

                        
                    <ul class="nav-links">
                        <li><a href="/#food-function" class="nav-link" data-lang="nav.food" style="background: var(--background-color);" onclick="handleSectionLinkClick(event, 'food-function')">Food</a></li>
                        <li><a href="/#cosmetic-function" class="nav-link" data-lang="nav.cosmetic" style="background: var(--background-color);" onclick="handleSectionLinkClick(event, 'cosmetic-function')">Cosmetic</a></li>
                        <li class="nav-dropdown">
                            <a href="#" class="nav-link" style="background: var(--background-color);">Products <i class="fa-solid fa-chevron-down" style="font-size: 12px; margin-left: 5px;"></i></a>
                            <ul class="nav-dropdown-menu">
                                <li><a href="/product/achieve" class="nav-dropdown-link px-2 py-2" onclick="handleProductLinkClick(event, '/product/achieve')">Achieve</a></li>
                                <li><a href="/product/confidence" class="nav-dropdown-link px-2 py-2" onclick="handleProductLinkClick(event, '/product/confidence')">Confidence</a></li>
                                <li><a href="/product/forever" class="nav-dropdown-link px-2 py-2" onclick="handleProductLinkClick(event, '/product/forever')">Forever</a></li>
                            </ul>
                        </li>
                        <li class="nav-dropdown">
                            <a href="#" class="nav-link" style="background: var(--background-color);">How To Use <i class="fa-solid fa-chevron-down" style="font-size: 12px; margin-left: 5px;"></i></a>
                            <ul class="nav-dropdown-menu">
                                <li><a href="/achieve-howto" class="nav-dropdown-link px-2 py-2" onclick="handleHowToClick(event, '/achieve-howto')">Achieve</a></li>
                                <li><a href="/confidence-howto" class="nav-dropdown-link px-2 py-2" onclick="handleHowToClick(event, '/confidence-howto')">Confidence</a></li>
                                <li><a href="/forever-howto" class="nav-dropdown-link px-2 py-2" onclick="handleHowToClick(event, '/forever-howto')">Forever</a></li>
                            </ul>
                        </li>
                        <li><a href="/mv/certifiedInstructor" class="nav-link" onclick="handlePartnersClick(event)" style="background: var(--background-color);">Certified Instructor</a></li>
                        <li class="healthcare-nav-mobile-item"><a href="/healthcare" class="nav-link healthcare-nav-mobile-btn" style="background: var(--background-color);">Healthcare <span class="healthcare-nav-mobile-sub">For Hospital</span></a></li>
                    </ul>

                   
                </nav>

                <a href="/healthcare" class="healthcare-nav-btn healthcare-nav-desktop">Healthcare<br><span class="healthcare-nav-btn-sub">For Hospital</span></a>


                <!-- Language Selector -->
                <div class="language-selector">
                    <span class="current-lang">Eng</span>
                    <div class="language-dropdown">
                        <div class="lang-option" data-lang="en">Eng</div>
                        <!-- <div class="lang-option" data-lang="zh">中</div> -->
                        <div class="lang-option" data-lang="jp">日</div>
                    </div>
                </div>

                <!-- Cart Button -->
                <button class="cart-btn" onclick="headerCart()">
                    <i class="fa-solid fa-cart-shopping"></i>
                </button>

                <!-- Profile Button -->
                <div class="profile-btn desktop-profile-btn">
                    <!-- <img src="/Images/Assets/General/Account_btn_black.png" alt="Profile"> -->
                    <i class="fa-solid fa-user"></i>
                    <div class="profile-dropdown">
                        
                            <a href="/login?redirect=%2Fproduct%2Fachieve" onclick="window.mvLoginRedirect && window.mvLoginRedirect.handleLoginLinkClick(event)">
                                <i class="fa fa-sign-in-alt"></i>
                                <span data-lang="login.login"> LOGIN</span>
                            </a>
                            <a href="/signup">
                                <i class="fa fa-user-plus"></i>
                                <span data-lang="signup.signUp"> Sign Up</span>
                            </a>
                        
                </div>
            </div>


            <!-- Hamburger Menu Button (Mobile Only) -->
            <button class="hamburger-btn" id="hamburgerBtn">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>

                
    </div>
        </div>
    </header>

    <!-- Cart Overlay -->
    <div id="cartOverlay" class="cart-overlay"></div>

      <!-- Cart Panel -->
    <div id="cartPanel" class="cart-panel">
        <div class="cart-title">
            <h5 data-lang="cart.myCart">My Cart</h5>
            <i class="fa-solid fa-xmark" id="cartCloseBtn" style="cursor: pointer;"></i>
        </div>
        <div class="cart-list" id="cartList">
            <!-- Cart items will be loaded here -->
        </div>
    </div>

  <script>
        // Language Dropdown Management
        document.addEventListener('DOMContentLoaded', function() {
            const languageSelector = document.querySelector('.language-selector');
            const languageDropdown = document.querySelector('.language-dropdown');
            const langOptions = document.querySelectorAll('.lang-option');
            const currentLang = document.querySelector('.current-lang');

            // Desktop language selector
            if (languageSelector) {
                languageSelector.addEventListener('click', function(e) {
                    e.stopPropagation();
                    languageSelector.classList.toggle('active');
                });
            }

            // Handle desktop language selection
            langOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const selectedLang = this.getAttribute('data-lang');
                    const selectedText = this.textContent;
                    
                    // Update current language display
                    if (currentLang) currentLang.textContent = selectedText;
                    
                    // Close dropdown
                    if (languageSelector) languageSelector.classList.remove('active');
                    
                    // Change language
                    changeLanguage(selectedLang);
                });
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                // Close desktop dropdown
                if (languageSelector && !languageSelector.contains(e.target)) {
                    languageSelector.classList.remove('active');
                }
                
            });

            // Close dropdown on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (languageSelector) languageSelector.classList.remove('active');
                }
            });
          });

        function changeLanguage(lang) {
            // Use the existing language loader
            if (window.languageLoader) {
                window.languageLoader.switchLanguage(lang);
            } else {
                console.log('Language loader not ready, trying again...');
                // Retry after a short delay if language loader isn't ready
                setTimeout(() => {
                    if (window.languageLoader) {
                        window.languageLoader.switchLanguage(lang);
                    }
                }, 100);
            }
        }

        // Cart Management - Based on original headerCart implementation
        const cartCloseButton = document.getElementById("cartCloseBtn");
        const cartPanel = document.getElementById("cartPanel");
        const cartOverlay = document.getElementById("cartOverlay");

        // Alternative headerCart function (from header copy.ejs)
    async function headerCart() {

        getCartList();


        if (!cartPanel.classList.contains('slide-in')) {
            cartOverlay.style.display = "block";
            setTimeout(function() {
                cartPanel.style.display = "block";
                cartPanel.classList.add('slide-in');
                cartPanel.classList.remove('slide-out');
            }, 0);
        } else {
            cartPanel.classList.remove('slide-in');
            cartPanel.classList.add('slide-out');
            setTimeout(function() {
                cartPanel.style.display = "none";
                cartOverlay.style.display = "none";
            }, 700);
        }
    }

        // Close cart when clicking overlay
        cartOverlay.addEventListener('click', function() {
            closeCart();
        });

        // Close cart when clicking close button
        cartCloseButton.addEventListener("click", function() {
            closeCart();
        });

        // Function to close the cart
        function closeCart() {
            cartPanel.classList.remove("slide-in");
            cartPanel.classList.add("slide-out");
            setTimeout(function() {
                cartPanel.style.display = "none";
                cartOverlay.style.display = "none";
            }, 700);
        }

        // Make closeCart available globally
        window.closeCart = closeCart;

        // Change cart item quantity
    function cart_changeItemsQty(item_id, change_qty) {
      const inputElement = document.querySelectorAll("#cart_qty" + item_id);
      for (var i = 0; i < inputElement.length; i++) {
        let value = parseInt(inputElement[i].value) + change_qty;

        if (value < 0) {
          value = 0;
        } else if (value > 999) {
          value = 999;
        }

        inputElement[i].value = value;
      }
    }

        // Update cart list - Based on original getCartList implementation
    async function getCartList() {
      try {
                const cartList = document.getElementById('cartList');
                const cartTitle = document.querySelector('.cart-title h5');
        let cartItemsHTML = '';
        let isAuthenticated = false;

                // Check authentication status first
                try {
                    const authResponse = await fetch('/header', { method: 'GET' });
                    if (authResponse.ok) {
                        const authData = await authResponse.json();
                        isAuthenticated = authData.data && authData.data.isAuthenticated;
                    }
                } catch (e) {
                    console.log('Could not check auth status:', e);
                }

                // Build cart list URL with instructor_code if available
                let cartListUrl = '/cart/cartList';

                // Get instructor_code from URL (fallback to dealer_code for backward compatibility)
                const qp = new URLSearchParams(window.location.search);
                const instructorCode = qp.get('instructor_code') || qp.get('dealer_code');
                

                // Instead of sending a body with GET, include instructor_code in the query string if available
                // Route will convert instructor_code to dealer_code for API calls
                if (instructorCode) {
                    cartListUrl += (cartListUrl.includes('?') ? '&' : '?') + 'instructor_code=' + encodeURIComponent(instructorCode);
                }
                
                const response = await fetch(cartListUrl, {
                    method: 'GET',
                    // body: JSON.stringify({ dealer_code: dc }),
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });


                if (response.ok) {
                    const result = await response.json();
                //     console.log('Cart response:', result); // Debug log
                    
            if (result.success && result.data) {
              // Check if items array exists and handle both empty and populated carts
              // Guest cart might return items directly or nested, so handle both cases
              const items = result.data.items || result.data.cart_items || [];
            //   console.log('Cart items:', items, 'Data structure:', result.data); // Debug log
              
              if (items.length === 0) {

                    cartTitle.innerHTML = '<span data-lang="cart.myCart">My Cart</span> (0)';
                    // Get instructor_code from URL for continue shopping link
                    const urlParams = new URLSearchParams(window.location.search);
                    const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
                    let continueShoppingUrl = '/#product-listing';
                    if (instructorCode) {
                        continueShoppingUrl = '/?instructor_code=' + encodeURIComponent(instructorCode) + '#product-listing';
                    }
                    
                    cartItemsHTML = `
                        <div class="h-100 d-flex flex-column align-items-center justify-content-center text-center">
                            <span class="h5 mb-3" style="color: var(--primary-color);" data-lang="cart.emptyCart">Your cart is empty</span>
                            <button type="button" class="btn btn-primary mt-3 checkout-button" onclick="closeCart(); window.location.href='${continueShoppingUrl}'" data-lang="cart.continueShopping" style="width:fit-content;">CONTINUE SHOPPING</button>
                        </div>
                    `;

              } else if (items.length > 0) {

                // Update checkout link with instructor_code if present
                // Determine checkout link based on authentication status
                const urlParams = new URLSearchParams(window.location.search);
                // Prefer instructor_code, fallback to dealer_code for backward compatibility
                const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
                
                // Use appropriate checkout link based on authentication
                // For guest, go directly to checkout (step 1 is now skipped)
                let checkoutLink = isAuthenticated ? "/cart/checkout1" : "/guest/checkout";
                
                if (instructorCode) {
                    const separator = checkoutLink.includes('?') ? '&' : '?';
                    checkoutLink += separator + 'instructor_code=' + encodeURIComponent(instructorCode);
                }
                            cartTitle.innerHTML = `<span data-lang="cart.myCart">My Cart</span> ( ${items.length} )`;
                items.forEach(cartItem => {
                                console.log('Cart item:', cartItem);
                                const currency = cartItem.currency;
                    cartItemsHTML += `
                        <div class="row py-3 w-100 cart-items mx-0">
                            <div class="col-4 col-sm-4 col-md-5 col-lg-5 d-flex align-items-center justify-content-center product_container">
                                <img src="${cartItem.product_image}" alt="Mother Vegetable" class="img-fluid h-auto">
                            </div>

                            <div class="col-8 col-sm-8 col-md-7 col-lg-7 d-flex flex-column justify-content-center p-0">
                                <span class="flex-item m-1 mb-2 font-weight-bold" style="color: var(--primary-color); font-family:'OpenSans'; font-size:14px;">
                                ${cartItem.product_name}
                                </span>

                                <!-- Price under name (all viewports) -->
                                <div class="d-flex m-1" style="color: var(--primary-color); font-size: 13px;">
                                  ${cartItem.unit_price === cartItem.discounted_unit_price 
                                    ? `${currency} ${formatNumber(cartItem.discounted_unit_price, 2)}`
                                    : `<span class='font-weight-bold'>${currency} ${formatNumber(cartItem.discounted_unit_price, 2)}</span>&nbsp;<span class='text-muted' style='text-decoration: line-through; font-size:12px;'>${currency} ${formatNumber(cartItem.unit_price, 2)}</span>`}
                                </div>

                                <div class="d-flex flex-column justify-content-center p-0">
                                    <div class="d-flex align-items-center justify-content-start">
                                        <span class="mr-2" style="font-family:'OpenSans'; color: var(--secondary-color);" data-lang="cart.qty">Qty</span>:
                                        <div class="d-flex align-items-center justify-content-center cart-qty-block" style="width:82px">
                                            <button type="button" class="btn d-flex align-items-center justify-content-center cart-minus-btn" onclick="cart_changeItemsQty(${cartItem.cart_item_id}, -1), cart_editCart(${cartItem.cart_item_id}, ${cartItem.product_id}, 'active')">-</button>
                                            <input type="text" class="d-flex align-items-center justify-content-center cart-item-qty" onkeypress="restrictValue(this, event)" onfocusout="cart_editCart(${cartItem.cart_item_id}, ${cartItem.product_id}, 'active')" id="cart_qty${cartItem.cart_item_id}" value="${cartItem.quantity}" readonly />
                                            <button type="button" class="btn d-flex align-items-center justify-content-center cart-plus-btn" onclick="cart_changeItemsQty(${cartItem.cart_item_id}, 1), cart_editCart(${cartItem.cart_item_id}, ${cartItem.product_id}, 'active')">+</button>
                                        </div>
                                        <button class="btn d-inline-block bg-transparent border-0 m-1 cart-trash-block" onclick="cart_editCart(${cartItem.cart_item_id}, ${cartItem.product_id}, 'deactivated'), getCartList()">
                                            <i class="fa-solid fa-trash" style="color: var(--primary-color);"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-3 col-sm-3 d-none justify-content-center align-items-center p-0"></div>
                        </div>

                        <div class="w-100 px-5 py-3 checkout_panel fixed-bottom" id="checkoutPanel" style="font-family:'OpenSans'">
                            <div class="d-flex pb-3 justify-content-end align-items-end">
                                <span class="f-14 font-weight-bold mr-3" style="color: var(--secondary-color);" data-lang="cart.subtotal">Subtotal:</span>    
                                <span class="f-20 font-weight-bold" style="color: var(--primary-color);"><b id="total_amount">${currency} ${formatNumber(result.data.total_net_price, 2)}</b></span>
                            </div>
                            <button class="btn p-2 mb-3 btn-primary w-100 checkout-button">
                                <a class="d-inline-block w-100 h-100" href="${checkoutLink}" style="color: var(--secondary-color); text-decoration: none;" data-lang="cart.checkout">CHECKOUT</a>
                            </button>
                        </div>
                        `;
                            
                    });
              }
              
            } else {
              // Handle error cases - check if it's an authentication error (432) or other error
              if (result.status === 432) {
                            cartTitle.innerHTML = '<span data-lang="cart.myCart">My Cart</span> (0)';
                cartItemsHTML = `
                                <div class="h-100 d-flex flex-column align-items-center justify-content-center text-center">
                                    <span class="h5 mb-3" style="color: var(--primary-color);" data-lang="cart.signInToViewCartItems">Sign In to view your cart items</span>
                                    <button type="button" class="btn btn-primary w-50 mt-3 checkout-button" onclick="window.mvLoginRedirect ? window.mvLoginRedirect.navigateToLogin('/login?redirect=%2Fproduct%2Fachieve') : window.location.href = '/login?redirect=%2Fproduct%2Fachieve'" data-lang="login.login">SIGN IN</button>
                </div>
                            `;
              } else {
                // For other errors (including guest cart errors), show empty cart
                cartTitle.innerHTML = '<span data-lang="cart.myCart">My Cart</span> (0)';
                cartItemsHTML = `
                    <div class="h-100 d-flex flex-column align-items-center justify-content-center text-center">
                        <span class="h5 mb-3" style="color: var(--primary-color);" data-lang="cart.emptyCart">Your cart is empty</span>
                        <button type="button" class="btn btn-primary mt-3 checkout-button" onclick="closeCart(); window.location.href='/#product-listing'" data-lang="cart.continueShopping" style="width:fit-content;">CONTINUE SHOPPING</button>
                    </div>
                `;
              }
                    }
                } else {
                    // Response not OK - show empty cart for guest users, LOGIN for auth errors
                    const errorData = await response.json().catch(() => ({}));
                    if (response.status === 401 || response.status === 432 || errorData.status === 432) {
                        cartTitle.innerText = 'My Cart (0)';
                        cartItemsHTML = `
                            <div class="h-100 d-flex flex-column align-items-center justify-content-center text-center">
                                <span class="h5 mb-3" style="color: var(--primary-color);" data-lang="cart.signInToViewCartItems">Sign In to view your cart items</span>
                                <button type="button" class="btn btn-primary w-50 mt-3 checkout-button" onclick="window.mvLoginRedirect ? window.mvLoginRedirect.navigateToLogin('/login?redirect=%2Fproduct%2Fachieve') : window.location.href = '/login?redirect=%2Fproduct%2Fachieve'" data-lang="login.login">SIGN IN</button>
                            </div>
                        `;
                    } else {
                        // For other errors, show empty cart
                        cartTitle.innerHTML = '<span data-lang="cart.myCart">My Cart</span> (0)';
                        cartItemsHTML = `
                            <div class="h-100 d-flex flex-column align-items-center justify-content-center text-center">
                                <span class="h5 mb-3" style="color: var(--primary-color);" data-lang="cart.emptyCart">Your cart is empty</span>
                                <button type="button" class="btn btn-primary mt-3 checkout-button" onclick="closeCart(); window.location.href='/#product-listing'" data-lang="cart.continueShopping" style="width:fit-content;">CONTINUE SHOPPING</button>
                            </div>
                        `;
                    }
            }

                cartList.innerHTML = cartItemsHTML;
                
                // Apply language translation to dynamically generated cart content and cart title
                if (window.languageLoader) {
                    window.languageLoader.applyLanguage();
                }
      } catch (error) {
                console.error('Error fetching cart:', error);
                const cartList = document.getElementById('cartList');
                const cartTitle = document.querySelector('.cart-title h5');
                cartTitle.innerHTML = '<span data-lang="cart.myCart">My Cart</span> (0)';
                // Show empty cart instead of LOGIN message for general errors
                cartList.innerHTML = `
                    <div class="h-100 d-flex flex-column align-items-center justify-content-center text-center">
                        <span class="h5 mb-3" style="color: var(--primary-color);" data-lang="cart.emptyCart">Your cart is empty</span>
                        <button type="button" class="btn btn-primary mt-3 checkout-button" onclick="closeCart(); window.location.href='/#product-listing'" data-lang="cart.continueShopping" style="width:fit-content;">CONTINUE SHOPPING</button>
                    </div>
                `;
                
                // Apply language translation to dynamically generated cart content
                if (window.languageLoader) {
                    window.languageLoader.applyLanguage();
                }
            }
        }

        // Edit cart quantity - Based on original cart_editCart implementation
    async function cart_editCart(id, product_id, status) {
      try {
        var quantity = status == "deactivated" ? 0 : document.getElementById('cart_qty' + id).value;
        const requestBody = {
          cartItemID: id,
          quantity
                };

                const response = await fetch('/cart/edit-user-cart', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestBody)
                });

                if (response.ok) {
                    const data = await response.json();
            if (data.success) {
              getCartList();
            } else {
              console.log("data.success else: ", data.message);
            }
                }
            } catch (error) {
            console.error("error: ", error);
            if (error.status === 432) {
                    window.location.href = "/login?error=Session Expired. Please login to your account and try again.&redirect=" + encodeURIComponent(window.location.pathname);
              return;
            }
            }
        }

        // Utility function for number formatting
        function formatNumber(num, decimals) {
            return parseFloat(num).toFixed(decimals);
        }

        // Utility function for input validation
        function restrictValue(input, event) {
            if (event.key === 'Enter') {
                cart_editCart(input.id.replace('cart_qty', ''), '', 'active');
            }
        }

        // Sign out function
        async function signout() {
            try {
                const response = await fetch('/account/signout', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    // Redirect to login with redirect parameter
                    // const targetUrl = '/login?redirect=' + encodeURIComponent(window.location.pathname);

                    // Redirect to login without redirect parameter
                    const targetUrl = '/login';
                    if (window.mvLoginRedirect && typeof window.mvLoginRedirect.navigateToLogin === 'function') {
                        window.mvLoginRedirect.navigateToLogin(targetUrl);
                    } else {
                        window.location.href = targetUrl;
                    }
                }
            } catch (error) {
                console.error('Error signing out:', error);
            }
        }

        // Set active navigation based on current page
        function setActiveNav() {
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                }
            });
        }

        // Utility function for fetch requests (from header copy.ejs)
        async function fetchRequest(url, method, body = null) {
            const options = {
                method: method,
                headers: {
                    'Content-Type': 'application/json'
                }
            };
            
            if (body) {
                options.body = JSON.stringify(body);
            }
            
            const response = await fetch(url, options);
            
            if (!response.ok) {
                const error = await response.json();
                throw error;
            }
            
            return await response.json();
        }

        // Handle logo click to preserve instructor_code
        function handleLogoClick(event) {
            const urlParams = new URLSearchParams(window.location.search);
            // Prefer instructor_code, fallback to dealer_code for backward compatibility
            const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
            
            if (instructorCode) {
                event.preventDefault();
                window.location.href = '/?instructor_code=' + encodeURIComponent(instructorCode);
            }
            // If no instructor_code, let the default href="/" work normally
        }

        // Profile Dropdown Delay Management
        document.addEventListener('DOMContentLoaded', function() {
            const profileBtns = document.querySelectorAll('.profile-btn, .desktop-profile-btn, .mobile-profile-btn');
            const profileDropdowns = document.querySelectorAll('.profile-dropdown, .mobile-profile-dropdown');
            let hideTimeout;

            profileBtns.forEach(function(profileBtn) {
                const dropdown = profileBtn.querySelector('.profile-dropdown, .mobile-profile-dropdown');
                
                if (profileBtn && dropdown) {
                    // Check if it's a mobile profile button
                    const isMobileBtn = profileBtn.classList.contains('mobile-profile-btn');
                    
                    if (isMobileBtn) {
                        // Mobile: Toggle dropdown on click
                        profileBtn.addEventListener('click', function(e) {
                            // Don't prevent default if clicking on a link inside the button
                            if (e.target.tagName === 'A' || e.target.closest('a')) {
                                return;
                            }
                            e.preventDefault();
                            e.stopPropagation();
                            const isShowing = dropdown.classList.contains('show');
                            
                            // Close all other dropdowns first
                            profileDropdowns.forEach(function(dd) {
                                if (dd !== dropdown) {
                                    dd.classList.remove('show');
                                }
                            });
                            
                            // Toggle this dropdown
                            if (isShowing) {
                                dropdown.classList.remove('show');
                            } else {
                                dropdown.classList.add('show');
                            }
                        });
                        
                        // Close dropdown when clicking on dropdown links
                        const dropdownLinks = dropdown.querySelectorAll('a');
                        dropdownLinks.forEach(function(link) {
                            link.addEventListener('click', function() {
                                dropdown.classList.remove('show');
                            });
                        });
                        
                        // Close dropdown when clicking outside
                        document.addEventListener('click', function(e) {
                            if (!profileBtn.contains(e.target) && !dropdown.contains(e.target)) {
                                dropdown.classList.remove('show');
                            }
                        });
                    } else {
                        // Desktop: Show dropdown on hover
                        profileBtn.addEventListener('mouseenter', function() {
                            clearTimeout(hideTimeout);
                            dropdown.classList.add('show');
                        });

                        // Hide dropdown with delay when mouse leaves
                        profileBtn.addEventListener('mouseleave', function() {
                            hideTimeout = setTimeout(function() {
                                dropdown.classList.remove('show');
                            }, 800); // Increased to 800ms delay
                        });

                        // Keep dropdown visible when hovering over it
                        dropdown.addEventListener('mouseenter', function() {
                            clearTimeout(hideTimeout);
                            dropdown.classList.add('show');
                        });

                        // Hide dropdown with delay when mouse leaves dropdown
                        dropdown.addEventListener('mouseleave', function() {
                            hideTimeout = setTimeout(function() {
                                dropdown.classList.remove('show');
                            }, 800); // Increased to 800ms delay
                        });
                    }
                }
            });
        });

        // Navigation Dropdown Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const navDropdowns = document.querySelectorAll('.nav-dropdown');
            
            // Detect if device supports touch
            const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            const isMobile = window.innerWidth <= 768 || isTouchDevice;

            navDropdowns.forEach(function(navDropdown) {
                const dropdownMenu = navDropdown.querySelector('.nav-dropdown-menu');
                const dropdownLink = navDropdown.querySelector('.nav-link');
                let hideTimeout;

                if (!dropdownMenu || !dropdownLink) return;

                // Check if mobile on resize
                window.addEventListener('resize', function() {
                    const nowMobile = window.innerWidth <= 768 || isTouchDevice;
                    if (nowMobile !== isMobile) {
                        location.reload(); // Reload to reinitialize event listeners
                    }
                });

                // Use touch/click for mobile, hover for desktop
                if (isMobile || window.innerWidth <= 768) {
                    // Mobile: Toggle dropdown on click/touch
                    function toggleDropdown(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        const isShowing = dropdownMenu.classList.contains('show');
                        
                        // Close all other dropdowns first
                        navDropdowns.forEach(function(nd) {
                            const otherMenu = nd.querySelector('.nav-dropdown-menu');
                            if (otherMenu && otherMenu !== dropdownMenu) {
                                otherMenu.classList.remove('show');
                                nd.classList.remove('show');
                            }
                        });
                        
                        // Toggle this dropdown
                        if (isShowing) {
                            dropdownMenu.classList.remove('show');
                            navDropdown.classList.remove('show');
                        } else {
                            dropdownMenu.classList.add('show');
                            navDropdown.classList.add('show');
                        }
                    }
                    
                    dropdownLink.addEventListener('click', toggleDropdown);
                    dropdownLink.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        toggleDropdown(e);
                    });
                    
                    // Close dropdown when clicking on dropdown links
                    const dropdownLinks = dropdownMenu.querySelectorAll('a');
                    dropdownLinks.forEach(function(link) {
                        link.addEventListener('click', function() {
                            dropdownMenu.classList.remove('show');
                            navDropdown.classList.remove('show');
                        });
                    });
                    
                    // Close dropdown when clicking outside
                    document.addEventListener('click', function(e) {
                        if (!navDropdown.contains(e.target)) {
                            dropdownMenu.classList.remove('show');
                            navDropdown.classList.remove('show');
                        }
                    });
                } else {
                    // Desktop: Show dropdown on hover
                    navDropdown.addEventListener('mouseenter', function() {
                        clearTimeout(hideTimeout);
                        dropdownMenu.style.opacity = '1';
                        dropdownMenu.style.visibility = 'visible';
                        dropdownMenu.style.transform = 'translateY(0)';
                        dropdownMenu.style.pointerEvents = 'auto';
                    });

                    // Hide dropdown with delay when mouse leaves nav dropdown
                    navDropdown.addEventListener('mouseleave', function() {
                        hideTimeout = setTimeout(function() {
                            dropdownMenu.style.opacity = '0';
                            dropdownMenu.style.visibility = 'hidden';
                            dropdownMenu.style.transform = 'translateY(-10px)';
                            dropdownMenu.style.pointerEvents = 'none';
                        }, 300);
                    });

                    // Keep dropdown visible when hovering over the menu
                    dropdownMenu.addEventListener('mouseenter', function() {
                        clearTimeout(hideTimeout);
                        dropdownMenu.style.opacity = '1';
                        dropdownMenu.style.visibility = 'visible';
                        dropdownMenu.style.transform = 'translateY(0)';
                        dropdownMenu.style.pointerEvents = 'auto';
                    });

                    // Hide dropdown with delay when mouse leaves the menu
                    dropdownMenu.addEventListener('mouseleave', function() {
                        hideTimeout = setTimeout(function() {
                            dropdownMenu.style.opacity = '0';
                            dropdownMenu.style.visibility = 'hidden';
                            dropdownMenu.style.transform = 'translateY(-10px)';
                            dropdownMenu.style.pointerEvents = 'none';
                        }, 300);
                    });
                }
            });
        });

        // Hamburger Menu Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const hamburgerBtn = document.getElementById('hamburgerBtn');
            const navLinksContainer = document.querySelector('.nav-links-container');
            const navLinks = document.querySelectorAll('.nav-links a');

            if (hamburgerBtn && navLinksContainer) {
                hamburgerBtn.addEventListener('click', function() {
                    // Toggle hamburger animation
                    hamburgerBtn.classList.toggle('active');
                    
                    // Toggle nav menu
                    navLinksContainer.classList.toggle('active');
                    
                    // Prevent body scroll when menu is open
                    document.body.style.overflow = navLinksContainer.classList.contains('active') ? 'hidden' : '';
                });

                // Close menu when clicking on nav links
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        hamburgerBtn.classList.remove('active');
                        navLinksContainer.classList.remove('active');
                        document.body.style.overflow = '';
                    });
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(event) {
                if (!hamburgerBtn.contains(event.target) && 
                    !navLinksContainer.contains(event.target)) {
                        hamburgerBtn.classList.remove('active');
                        navLinksContainer.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });

                // Close menu on window resize to desktop
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768) {
                        hamburgerBtn.classList.remove('active');
                        navLinksContainer.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });
            }
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            setActiveNav();
        });

        // Handle section link clicks to preserve instructor_code
        function handleSectionLinkClick(event, targetId) {
            event.preventDefault();
            const urlParams = new URLSearchParams(window.location.search);
            // Prefer instructor_code, fallback to dealer_code for backward compatibility
            const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
            
            if (window.location.pathname === '/') {
                // If already on homepage, just scroll to section
                const el = document.getElementById(targetId);
                if (el) {
                    el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            } else {
                // If on another page, navigate to homepage with instructor_code
                let homeUrl = '/';
                if (instructorCode) {
                    homeUrl = '/?instructor_code=' + encodeURIComponent(instructorCode);
                }
                homeUrl += '#' + targetId;
                window.location.href = homeUrl;
            }
        }

        // Smooth-scroll to homepage sections when already on '/'
        // Note: Links with onclick handlers (Food, Cosmetic, Products) are handled by handleSectionLinkClick
        document.addEventListener('DOMContentLoaded', function() {
            const sectionLinks = document.querySelectorAll('.nav-links a[href^="/#"]');
            sectionLinks.forEach(function(link) {
                // Skip links that already have onclick handlers
                if (link.getAttribute('onclick')) {
                    return;
                }
                
                link.addEventListener('click', function(e) {
                    const href = this.getAttribute('href'); // like '/#product-listing'
                    const targetId = href.split('#')[1];
                    if (!targetId) return;

                    if (window.location.pathname === '/') {
                        e.preventDefault();
                        const el = document.getElementById(targetId);
                        if (el) {
                            el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    } else {
                        // If on another page, preserve instructor_code when navigating
                        const urlParams = new URLSearchParams(window.location.search);
                        const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
                        
                        e.preventDefault();
                        let homeUrl = '/';
                        if (instructorCode) {
                            homeUrl = '/?instructor_code=' + encodeURIComponent(instructorCode);
                        }
                        homeUrl += '#' + targetId;
                        window.location.href = homeUrl;
                    }
                });
            });
        });

        // Handle How To Use link click to preserve instructor_code
        function handleHowToClick(event, howToUrl) {
            event.preventDefault();
            const urlParams = new URLSearchParams(window.location.search);
            // Prefer instructor_code, fallback to dealer_code for backward compatibility
            const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
            let finalUrl = howToUrl;
            if (instructorCode) {
                finalUrl += (finalUrl.includes('?') ? '&' : '?') + 'instructor_code=' + encodeURIComponent(instructorCode);
            }
            window.location.href = finalUrl;
        }

        // Handle Instructor Profile link click to preserve instructor_code
        function handleInstructorProfileClick(event) {
            event.preventDefault();
            const urlParams = new URLSearchParams(window.location.search);
            const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
            let profileUrl = '/mv/instructorProfile';
            if (instructorCode) {
                profileUrl += '?instructor_code=' + encodeURIComponent(instructorCode);
            }
            window.location.href = profileUrl;
        }

        // Handle Partners link click to preserve instructor_code
        function handlePartnersClick(event) {
            event.preventDefault();
            const urlParams = new URLSearchParams(window.location.search);
            // Prefer instructor_code, fallback to dealer_code for backward compatibility
            const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
            let partnersUrl = '/mv/certifiedInstructor';
            if (instructorCode) {
                partnersUrl += '?instructor_code=' + encodeURIComponent(instructorCode);
            }
            window.location.href = partnersUrl;
        }

        // Handle Product link click to preserve instructor_code
        function handleProductLinkClick(event, productUrl) {
            event.preventDefault();
            const urlParams = new URLSearchParams(window.location.search);
            // Prefer instructor_code, fallback to dealer_code for backward compatibility
            const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
            let finalUrl = productUrl;
            if (instructorCode) {
                finalUrl += '?instructor_code=' + encodeURIComponent(instructorCode);
            }
            window.location.href = finalUrl;
        }
  </script>


<!-- <link rel="stylesheet" href="/stylesheets/product_achieve.css?v=1771402620144"> -->
<link rel="stylesheet" href="/stylesheets/productDetails/productInformation.css?v=1771402620144">
<link rel="stylesheet" href="/stylesheets/productDetails/productBenefit.css?v=1771402620144">
<link rel="stylesheet" href="/stylesheets/productDetails/mazekomu_achieve.css?v=1771402620144">
<link rel="stylesheet" href="/stylesheets/productDetails/function.css?v=1771402620144">


<style>
    .action-buttons {
        display: flex;
        gap: 15px;
        margin-top: 20px;
    }

    .add-to-cart-btn, .buy-now-btn {
        flex: 1;
        padding: 12px 20px;
        font-size: 16px;
        font-weight: 600;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .add-to-cart-btn {
        background-color: #25C760;
        color: white;
    }

    .add-to-cart-btn:hover {
        background-color: #1ea84d;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(37, 199, 96, 0.3);
    }

    .buy-now-btn {
        background-color: #28a745;
        color: white;
    }

    .buy-now-btn:hover {
        background-color: #218838;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
    }

    @media (max-width: 768px) {
        .action-buttons {
            flex-direction: column;
            gap: 10px;
        }
        
        .add-to-cart-btn, .buy-now-btn {
            width: 100%;
            padding: 14px 20px;
        }
    }
</style>

<main>
    <div class="container-fluid">
        <!-- Product Gallery & Cart Section -->
        <section class="product-gallery-section">
            <div class="container">
                <div class="row">
                    <!-- Left Side - Thumbnail Gallery -->
                    <div class="col-md-1">
                        <div class="thumbnail-gallery">
                            <div class="thumbnail-item active" data-video="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_1.mp4">
                                <video class="thumbnail-video" muted preload="metadata" playsinline>
                                    <source src="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_1.mp4" type="video/mp4">
                                </video>
                            </div>
                            <div class="thumbnail-item" data-video="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_2.mp4">
                                <video class="thumbnail-video" muted preload="metadata" playsinline>
                                    <source src="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_2.mp4" type="video/mp4">
                                </video>
                            </div>
                            <div class="thumbnail-item" data-video="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_3.mp4">
                                <video class="thumbnail-video" muted preload="metadata" playsinline>
                                    <source src="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_3.mp4" type="video/mp4">
                                </video>
                            </div>
                            <div class="thumbnail-item" data-video="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_4.mp4">
                                <video class="thumbnail-video" muted preload="metadata" playsinline>
                                    <source src="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_4.mp4" type="video/mp4">
                                </video>
                            </div>
                            <div class="thumbnail-item" data-video="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_5.mp4">
                                <video class="thumbnail-video" muted preload="metadata" playsinline>
                                    <source src="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_5.mp4" type="video/mp4">
                                </video>
                            </div>
                            
                        </div>
                    </div>

                    <!-- Center Side - Main Product Display -->
                    <div class="col-md-4">
                        <div class="main-product-display">
                            <div class="product-media-container">
                                <video id="mainProductVideo" class="main-product-video" muted autoplay loop playsinline>
                                    <source src="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/achieve/video_1.mp4" type="video/mp4">
                                </video>
                            </div>
                        </div>
                    </div>

                    <!-- Right Side - Product Info & Cart -->
                    <div class="col-md-7">
                        <div class="product-info-cart">
                            <div class="d-flex">
                                <h1 class="product-name mb-0">Mother Vegetable Achieve - 30 sticks</h1>
                                <!-- <div class="pre-order-badge">
                                    <p class="mb-0" data-lang="product.preOrder">Pre-Order</p>
                                </div> -->
                            </div>
                            
                                <h2 class="price">USD 36.70</h2>
                            

                            <div class="d-flex flex-wrap gap-2 mb-3">
                                <!-- <div class="pre-order-shipping-badge">
                                    <p class="mb-0">
                                        <i class="fa fa-calendar"></i>
                                        <span data-lang="product.preOrder">Pre-Order</span> &nbsp;•<span class="text-danger"> &nbsp; <span data-lang="product.shipsAfter">Ships after 11 Jan 2026</span></span>
                                </p> -->
                                </div>
                                <div class="free-shipping-badge">
                                    <p class="mb-0">
                                        <i class="fa fa-truck"></i>
                                        <span data-lang="product.freeShippingNationwide">Free Shipping Worldwide</span>
                                    </p>
                                </div>
                            </div>
                            
                            <div class="quantity-selector">
                                <label for="quantity" data-lang="product.quantity">Quantity</label>
                                <div class="quantity-controls">
                                    <button class="quantity-btn minus-btn" type="button">-</button>
                                    <input type="number" id="quantity" class="quantity-input" value="1" min="1" max="99960">
                                    <button class="quantity-btn plus-btn" type="button">+</button>
                                </div>
                            </div>

                            <div class="action-buttons">
                                <button class="btn btn-primary add-to-cart-btn" data-lang="product.addToCart" onclick="addtoCart()">Add to Cart</button>
                                <button class="btn btn-success buy-now-btn" data-lang="product.buyNow" onclick="buyNow()">Buy Now / Proceed to Checkout</button>
                                <!-- <br> -->
                                <!-- <button class="btn btn-outline-secondary reviews-btn" data-lang="product.reviews">Product Reviews</button> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="products-grid-details">
                    <!-- Product Card 1: Achieve -->
                    <div class="product-card achieve-card">
                        
                        <div class="card-content">
                            <div class="product-image">
                                <video class="product-video" autoplay muted loop playsinline>
                                    <source src="https://mv-prod-1334776400.cos.ap-singapore.myqcloud.com/products/homepage/achieve_video.mp4" type="video/mp4">
                                </video>
                            </div>
                            <h3 class="product-title">
                                <span class="title-main" data-lang="products.achieve.name">Achieve</span>
                                <span class="title-sub" data-lang="products.achieve.subtitle">for Body</span>
                            </h3>
                            <p class="product-tagline text-danger"><strong>'TORIKOMU'</strong><span class="text-white" data-lang="products.achieve.tagline">48 different nutrients at once.</span></p>
                            <div class="product-benefits">
                                <div class="benefit-item">
                                    <span class="checkmark">✓</span>
                                    <span data-lang="products.achieve.benefit1">Supports a healthy gut, Regeneration of cells throughout the body.</span>
                                </div>
                                <div class="benefit-item">
                                    <span class="checkmark">✓</span>
                                    <span data-lang="products.achieve.benefit2">Helps relieve constipation, improve sleep, and aid weight management.</span>
                                </div>
                            </div>
                            <div class="how-to-use">
                                <h4 data-lang="products.achieve.howToUseTitle">How to use</h4>
                                <div class="usage-item">
                                    <span class="checkmark">✓</span>
                                    <span data-lang="products.achieve.usage">Simply 'TORIKOMU' one capsule into your drink or meal.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container" >
                <div class="grid grid-content">
                    <div class="cell left-box">
                        <div class="content-section">
                            <h4 class="section-title">Drink</h4>
                            <img src="/Images/Assets/achieve/mazekomu/red_underline.png" alt="Underline" class="red-hero-underline-img">
                            <div class="grid-container">
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/water_green.png" alt="Water" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.drinks.water">Water</span>
                                </div>

                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/juice.png" alt="Juice" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.drinks.juice">Juice</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/cola.png" alt="Cola" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.drinks.cola">Cola</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/beer.png" alt="Beer" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.drinks.beer">Beer</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/whiteWine.png" alt="White Wine" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.drinks.whiteWine">White wine</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/highball.png" alt="Highball" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.drinks.highball">Highball</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cell box-1-2"></div>
                    <div class="cell box-2-2"></div>
                    <div class="cell box-3-2">
                        <div class="content-section mazekomu-content-section">
                            <h4 class="section-title section-title-center">MAZEKOMU</h4>
                            <img src="/Images/Assets/achieve/mazekomu/red_underline.png" alt="Underline" class="red-hero-underline-img">
                            <div class="test-tube-container text-center">
                                <img src="/Images/Assets/achieve/mazekomu/mazekomu.png" alt="MAZEKOMU" class="test-tube-icon">
                            </div>
                        </div>
                    </div>
                    <div class="cell box-4-2"></div>
                    <div class="cell box-5-2"></div>
                    
                    <div class="cell right-box">
                        <div class="content-section">
                            <h4 class="section-title">Food</h4>
                            <img src="/Images/Assets/achieve/mazekomu/red_underline.png" alt="Underline" class="red-hero-underline-img">
                            <div class="grid-container">
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/friedRice.png" alt="Fried Rice" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.foods.friedRice">Fried Rice</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/ramen.png" alt="Ramen" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.foods.ramen">Ramen</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/salad.png" alt="Salad" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.foods.salad">Salad</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/yogurt.png" alt="Yogurt" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.foods.yogurt">Yogurt</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/pasta.png" alt="Pasta" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.foods.pasta">Pasta</span>
                                </div>
                                <div class="grid-item">
                                    <img src="/Images/Assets/achieve/mazekomu/tempura.png" alt="Tempura" class="grid-image">
                                    <span class="text-label" data-lang="product.mazekomu.foods.tempura">Tempura</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                  
            </div>

            <div class="container">
                <!-- Our Trust Section -->
                <div class="trust-content">
                    <h2 class="section-title trust-title" data-lang="trust.title">Our Trust</h2>
                    <img src="/Images/Assets/homepage/underline.png" alt="Underline" class="hero-underline-img">
                    <div class="trust-logos">
                        <div class="trust-logo">
                            <img src="/Images/Assets/homepage/company/partner_1.png" alt="Partner 1" class="partner-logo">
                        </div>
                        <div class="trust-logo">
                            <img src="/Images/Assets/homepage/company/partner_2.png" alt="Partner 2" class="partner-logo">
                        </div>
                        <div class="trust-logo">
                            <img src="/Images/Assets/homepage/company/partner_3.png" alt="Partner 3" class="partner-logo">
                        </div>
                        <div class="trust-logo">
                            <img src="/Images/Assets/homepage/company/partner_4.png" alt="Partner 4" class="partner-logo">
                        </div>
                        <div class="trust-logo">
                            <img src="/Images/Assets/homepage/company/partner_5.png" alt="Partner 5" class="partner-logo">
                        </div>
                        <div class="trust-logo">
                            <img src="/Images/Assets/homepage/company/partner_6.png" alt="Partner 6" class="partner-logo">
                        </div>
                    </div>

                    <div class="py-2">
                        <p><span style="color: var(--primary-color);">Achieve</span></p>
                        <p class="text-center text-white"><span data-lang="trust.achieve"></span></p>
                    </div>
                </div>
            </div>

            <div class="container">
                <!-- Food Function Section -->
<div class="function-content" id="food-function">
    <h2 class="section-title function-title" data-lang="foodFunction.title">Food Function</h2>
    <h3 class="function-subtitle">
        <span data-lang="products.achieve.name">Achieve</span>
    </h3>
    <img src="/Images/Assets/homepage/underline.png" alt="Underline" class="hero-underline-img">
    <h6 class="text-center text-danger">TORIKOMU / MAZEKOMU</h6>

    <div class="function-diagram">
        <div class="test-tube-icon">
            <video class="product-video" autoplay muted loop playsinline>
                <source src="/Images/Assets/homepage/product/food_video.mov" type="video/mp4">
            </video>
        </div>
        
        <div class="bracket-icon">
            <img src="/Images/Assets/homepage/bracket_v2.png" alt="Bracket" class="bracket-img">
        </div>
        
        <div class="function-branches">
            <div class="function-circle-div">
                <div class="function-circle">
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.fattyAcids.name">Essential Fatty Acids</span>
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.fattyAcids.count">9 types</span>
                </div>
                <div class="function-circle">
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.aminoAcids.name">Amino Acids</span>
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.aminoAcids.count">10 types</span>
                </div>
                <div class="function-circle">
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.vitamins.name">Vital Vitamins</span>
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.vitamins.count">18 types</span>
                </div>
                <div class="function-circle">
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.minerals.name">Key Minerals For Balance</span>
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.minerals.count">2 types</span>
                </div>
                <div class="function-circle">
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.other.name">Other Functional Ingredients</span>
                    <span class="function-circle-text" data-lang="foodFunction.nutrients.other.count">9 types</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="function-summary">
        <h4 class="function-total" data-lang="foodFunction.nutritionTotal">48 Nutrition</h4>
        <p class="function-description" data-lang="foodFunction.nutritionDescription">
            Packed with over 48 essential nutrients, Mother Vegetable delivers everything your body needs in one serving. It contains vital minerals like potassium, magnesium, calcium, iron, zinc, and copper; a full spectrum of vitamins, including A, B-complex, C, E, and K; and all the essential amino acids along with conditionally essential ones to support overall health. It also provides beneficial healthy fats such as y-linolenic acid, powerful antioxidants like phycocyanin, chlorophyll, and carotenoids, and natural polysaccharides including spirulan, ẞ-glucan-like compounds, and cellulose for gut health and digestive support.
        </p>
    </div>

    <!-- Benefits Grid Section -->
    <div class="benefits-section">
        <div class="row w-100 d-flex justify-content-center align-items-center">
            <div class="col-12 col-sm-6 col-md-6 col-lg-6">
                <div class="d-flex justify-content-center">
                    <div class="benefit-image d-flex justify-content-end">
                        <img src="/Images/Assets/homepage/foodFunction/children.png" alt="Children" class="">
                    </div>
                    <div class="benefit-content">
                        <h4 class="benefit-title" data-lang="foodFunction.benefits.children.title">Children</h4>
                        <div class="title-underline"></div>
                        <ul class="benefit-list">
                            <li data-lang="foodFunction.benefits.children.items.0">Improves concentration</li>
                            <li data-lang="foodFunction.benefits.children.items.1">Enhances learning ability</li>
                            <li data-lang="foodFunction.benefits.children.items.2">Supports bone growth</li>
                            <li data-lang="foodFunction.benefits.children.items.3">Boosts immunity</li>
                            <li data-lang="foodFunction.benefits.children.items.4">Increases appetite</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-md-6 col-lg-6">
                <div class="d-flex justify-content-center">
                    <div class="benefit-image d-flex justify-content-end">
                        <img src="/Images/Assets/homepage/foodFunction/alduts.png" alt="Adults" class="category-img">
                    </div>
                    <div class="benefit-content">
                        <h4 class="benefit-title" data-lang="foodFunction.benefits.adults.title">Adults</h4>
                        <div class="title-underline"></div>
                        <ul class="benefit-list">
                            <li data-lang="foodFunction.benefits.adults.items.0">Improves constipation and digestion</li>
                            <li data-lang="foodFunction.benefits.adults.items.1">Enhances sleep quality</li>
                            <li data-lang="foodFunction.benefits.adults.items.2">Reduces fatigue</li>
                            <li data-lang="foodFunction.benefits.adults.items.3">Suppresses cellular aging and inflammation</li>
                            <li data-lang="foodFunction.benefits.adults.items.4">Supports dieting*</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-md-6 col-lg-6">
                <div class="d-flex justify-content-center">
                    <div class="benefit-image d-flex justify-content-end">
                        <img src="/Images/Assets/homepage/foodFunction/seniors.png" alt="Seniors" class="category-img">
                    </div>
                    <div class="benefit-content">
                        <h4 class="benefit-title" data-lang="foodFunction.benefits.seniors.title">Seniors</h4>
                        <div class="title-underline"></div>
                        <ul class="benefit-list">
                            <li data-lang="foodFunction.benefits.seniors.items.0">Improves sleep quality and blood circulation</li>
                            <li data-lang="foodFunction.benefits.seniors.items.1">Boosts appetite and nutrient intake</li>
                            <li data-lang="foodFunction.benefits.seniors.items.2">Supports internal organ function</li>
                            <li data-lang="foodFunction.benefits.seniors.items.3">Promotes bone density</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-md-6 col-lg-6">
                <div class="d-flex justify-content-center">
                    <div class="benefit-image d-flex justify-content-end">
                        <img src="/Images/Assets/homepage/foodFunction/athletes.png" alt="Athletes" class="category-img">
                    </div>
                    <div class="benefit-content">
                        <h4 class="benefit-title" data-lang="foodFunction.benefits.athletes.title">Athletes</h4>
                        <div class="title-underline"></div>
                        <ul class="benefit-list">
                            <li data-lang="foodFunction.benefits.athletes.items.0">Detoxifies additives</li>
                            <li data-lang="foodFunction.benefits.athletes.items.1">Aids muscle recovery and improves endurance</li>
                            <li data-lang="foodFunction.benefits.athletes.items.2">Provides efficient nutrient absorption</li>
                            <li data-lang="foodFunction.benefits.athletes.items.3">Reduces inflammation and supports recovery</li>
                            <li data-lang="foodFunction.benefits.athletes.items.4">Enhances training effectiveness</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
            </div>

        </section>

        
    </div>
</main>

<footer class="main-footer">
    <div class="footer-content">
        <div class="footer-text">
            <div class="footer-logo">
                <img src="/Images/favicon.png" alt="Mother Vegetable Logo" class="footer-logo-img">
                <p class="footer-logo-text">Mother Vegetable Group</p>
                <p class="footer-logo-text my-2">
                    <a href="https://www.mothervegetable.org/" target="_blank" rel="noopener" style="color: inherit; text-decoration: none;">Official Page</a>
                </p>
                <div class="footer-grid-compact pb-1"> 
                    <div class="footer-office-country">Japan</div>
                    <div class="footer-office-country">South Korea</div>
                    <div class="footer-office-country">Hong Kong</div>
                    <div class="footer-office-country">Malaysia</div>
                    <div class="footer-office-country">Singapore</div>
                    <div class="footer-office-country">Indonesia</div>
                    <div class="footer-office-country">Thailand</div>
                    <div class="footer-office-country">Mongolia</div>
                    <div class="footer-office-country">Australia</div>
                    <div class="footer-office-country">Germany</div>
                    <div class="footer-office-country">Italy</div>
                    <div class="footer-office-country">France</div>
                    <div class="footer-office-country">Switzerland</div>
                    <div class="footer-office-country">United Kingdom</div>
                    <div class="footer-office-country">Canada</div>
                    <div class="footer-office-country">USA</div>
                    <div class="footer-office-country">Brazil</div>
                    <div class="footer-office-country">Peru</div>
                </div>
            </div>



            <!-- add link privacy and terms -->
            <span style="color: var(--primary-color);"><a href="/privacy" class="footer-link" style="color: var(--primary-color);">Privacy Policy</a> | <a href="/terms" class="footer-link" style="color: var(--primary-color);">Terms and Conditions</a></span>

            <p class="copyright" data-lang="footer.copyright" style="color: var(--primary-color);">© <span id="current-year">2025</span> MOTHER VEGETABLE PROJECT.</p>
            <p class="rights" data-lang="footer.rights" style="color: var(--primary-color);">All rights reserved.</p>
        </div>
    </div>
</footer>

<style>
    .main-footer {
        background-color: var(--background-color);
        border-top: 2px solid var(--primary-color);
        padding: 40px 0;
        margin-top: 80px;
    }

    .footer-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
        text-align: center;
    }

    .footer-addresses {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 25px;
        margin-bottom: 30px;
        text-align: left;
    }

    .footer-address-item {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .footer-office-title {
        font-family: Arial, sans-serif;
        font-size: 16px;
        font-weight: 600;
        color: var(--primary-color);
        margin: 0;
    }

    .footer-office-address {
        font-family: Arial, sans-serif;
        font-size: 14px;
        color: var(--secondary-color);
        margin: 0;
        line-height: 1.5;
        opacity: 0.9;
    }

    .footer-text {
        display: flex;
        flex-direction: column;
        gap: 8px;
        text-align: center;
    }

    .footer-logo-img {
        max-width: 40px;
        height: auto;
        margin-bottom: 8px;
    }

    .footer-link {
        font-size: clamp(10px, 1.2vw, 14px);
        font-weight: 500;
        letter-spacing: -0.025em;
    }

    .copyright,
    .rights {
        font-family: Arial, sans-serif;
        font-size: clamp(10px, 1.2vw, 14px);
        color: var(--secondary-color);
        margin: 0;
        line-height: 1.4;
        font-weight: 500;
        letter-spacing: -0.025em;
    }

    .copyright {
        font-weight: 500;
    }

    .rights {
        font-weight: 400;
        opacity: 0.8;
        margin-top: -8px;
    }

    /* Footer Grid Compact - Desktop/Tablet: 2 lines (9 columns) */
    .footer-grid-compact {
        display: grid;
        grid-template-columns: repeat(9, 1fr);
        gap: 2px;
        margin: 15px auto 0;
        max-width: 800px;
        justify-content: center;
    }

    .footer-logo-text {
        color: var(--primary-color);
        font-size: clamp(10px, 1.2vw, 14px);
        font-weight: 500;
        letter-spacing: -0.025em;
        margin: 0;
    }

    .footer-office-country {
        color: #25C760;
        font-size: clamp(10px, 1.2vw, 14px);
        font-weight: 500;
        white-space: nowrap;
        letter-spacing: -0.025em;
        text-align: center;
    }

    /* Tablet Responsive */
    @media (max-width: 1024px) and (min-width: 769px) {
        .footer-grid-compact {
            max-width: 600px;
        }
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .main-footer {
            padding: 30px 0;
            margin-top: 60px;
        }

        .footer-content {
            padding: 0 15px;
        }

        .footer-logo-img {
            max-width: 35px;
        }

        .footer-addresses {
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 20px;
        }

        .footer-office-title {
            font-size: 15px;
        }

        .footer-office-address {
            font-size: 13px;
        }

        .footer-link {
            font-size: clamp(9px, 2vw, 12px);
        }

        .copyright,
        .rights {
            font-size: clamp(9px, 2vw, 12px);
        }

        /* Footer Grid Compact - Mobile: 3 lines (6 columns) */
        .footer-grid-compact {
            grid-template-columns: repeat(6, 1fr);
            gap: 6px;
        }

        .footer-logo-text {
            font-size: clamp(9px, 2vw, 12px);
        }

        .footer-office-country {
            font-size: clamp(9px, 2vw, 12px);
        }
    }

    @media (max-width: 480px) {
        .main-footer {
            padding: 25px 0;
            margin-top: 40px;
        }

        .footer-addresses {
            grid-template-columns: 1fr;
            gap: 15px;
            text-align: center;
        }

        .footer-address-item {
            align-items: center;
        }

        .footer-office-title {
            font-size: 14px;
        }

        .footer-office-address {
            font-size: 12px;
        }

        .copyright,
        .rights {
            font-size: 12px;
        }
    }
</style>

<script>
    // Auto-update copyright year
    document.addEventListener('DOMContentLoaded', function() {
        const currentYearElement = document.getElementById('current-year');
        if (currentYearElement) {
            currentYearElement.textContent = new Date().getFullYear();
        }
    });
</script>

<script>
// Gallery functionality
document.addEventListener('DOMContentLoaded', function() {
    const thumbnails = document.querySelectorAll('.thumbnail-item');
    const mainVideo = document.getElementById('mainProductVideo');
    
    // Load thumbnail videos and show first frame on mobile
    const thumbnailVideos = document.querySelectorAll('.thumbnail-video');
    thumbnailVideos.forEach((video, index) => {
        // Load metadata to show first frame
        video.addEventListener('loadedmetadata', function() {
            // Seek to first frame (0.1 seconds) to display thumbnail
            if (this.readyState >= 2) {
                this.currentTime = 0.1;
            }
        });
        // Force load on mobile
        video.load();
    });
    
    thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('click', function() {
            // Remove active class from all thumbnails
            thumbnails.forEach(t => t.classList.remove('active'));
            
            // Add active class to clicked thumbnail
            this.classList.add('active');
            
            // Get the video source from data attribute
            const videoSrc = this.getAttribute('data-video');
            
            // Pause current video first
            mainVideo.pause();
            
            // Update main video source
            mainVideo.src = videoSrc;
            mainVideo.load();
            
            // Play the video after loading with error handling
            const playPromise = mainVideo.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // Autoplay started successfully
                }).catch(error => {
                    // Autoplay was prevented or interrupted
                    console.log('Video playback prevented:', error);
                });
            }
        });
    });
    
    // Quantity controls
    const minusBtn = document.querySelector('.minus-btn');
    const plusBtn = document.querySelector('.plus-btn');
    const quantityInput = document.getElementById('quantity');
    
    minusBtn.addEventListener('click', function() {
        let currentValue = parseInt(quantityInput.value);
        if (currentValue > 1) {
            quantityInput.value = currentValue - 1;
        }
    });
    
    plusBtn.addEventListener('click', function() {
        let currentValue = parseInt(quantityInput.value);
        quantityInput.value = currentValue + 1;
    });
});

// Add to Cart function
async function addtoCart() {
    try {
        var product_id = '1';
        var quantity = document.getElementById('quantity').value;
        
        const requestBody = {
            quantity: quantity,
            product_id: product_id,
        };

        fetchRequest(`/cart/add-to-cart`, "POST", requestBody)
        .then(data => {
            if (data.success) {
                headerCart();
                Swal.fire({
                    icon: 'success',
                    // title: 'Success!',
                    text: data.message || 'Product added to cart successfully!',
                    confirmButtonColor: '#25C760'
                });
            } else {
                console.log("data.success else: ", data.message);
                Swal.fire({
                    icon: 'error',
                    title: 'Error!',
                    text: data.message || 'Failed to add product to cart',
                    confirmButtonColor: '#25C760'
                });
            }
        })
        .catch(error => {
            console.error("error: ", error);
            if (error.status === 432) {
                window.location.href = "/login?error=Session Expired. Please login to your account and try again.";
                return;
            }
            
            Swal.fire({
                icon: 'error',
                title: 'Error!',
                text: error.message || 'Failed to add product to cart',
                confirmButtonColor: '#25C760'
            });
        });
    } catch (error) {
        console.log(error);
        Swal.fire({
            icon: 'error',
            title: 'Error!',
            text: 'An unexpected error occurred',
            confirmButtonColor: '#25C760'
        });
    }
}

// Check if user is logged in
async function checkUserAuthentication() {
    try {
        const response = await fetch('/header', { method: 'GET' });
        if (response.ok) {
            const data = await response.json();
            return data.data && data.data.isAuthenticated;
        }
        return false;
    } catch (error) {
        console.error('Error checking authentication:', error);
        return false;
    }
}

// Buy Now function
async function buyNow() {
    const product_sku = 'achieve';
    const quantity = document.getElementById('quantity').value;
    let checkoutUrl = `/cart/checkout1?SKU=${product_sku}&QTY=${quantity}`;
    checkoutUrl = appendDealerCodeToURL(checkoutUrl);
    const checkoutRelativeUrl = ensureRelativeUrl(checkoutUrl);

    // Check if user is logged in first
    const isAuthenticated = await checkUserAuthentication();
    
    if (!isAuthenticated) {
        // Redirect to guest checkout (step 1 is now skipped, defaults to checkout page)
        let guestCheckoutUrl = `/guest/checkout?SKU=${product_sku}&QTY=${quantity}`;
        guestCheckoutUrl = appendDealerCodeToURL(guestCheckoutUrl);
        window.location.href = guestCheckoutUrl;
        return;
    }
    
    window.location.href = checkoutUrl;
}

// Fallback function definition for appendDealerCodeToURL
if (typeof appendDealerCodeToURL === 'undefined') {
  function appendDealerCodeToURL(url) {
    const urlParams = new URLSearchParams(window.location.search);
    // Prefer instructor_code, fallback to dealer_code for backward compatibility
    const instructorCode = urlParams.get('instructor_code') || urlParams.get('dealer_code');
    if (!instructorCode) return url;
    
    try {
      const urlObj = new URL(url, window.location.origin);
      urlObj.searchParams.set('instructor_code', instructorCode);
      // Remove old dealer_code if present
      urlObj.searchParams.delete('dealer_code');
      return urlObj.toString();
    } catch (e) {
      const separator = url.includes('?') ? '&' : '?';
      return `${url}${separator}instructor_code=${encodeURIComponent(instructorCode)}`;
    }
  }
}

if (typeof ensureRelativeUrl === 'undefined') {
  function ensureRelativeUrl(url) {
    if (!url) return null;
    try {
      const normalized = new URL(url, window.location.origin);
      if (normalized.origin !== window.location.origin) {
        return null;
      }
      return normalized.pathname + normalized.search + normalized.hash;
    } catch (error) {
      if (typeof url === 'string' && url.startsWith('/')) {
        return url;
      }
      return null;
    }
  }
}
</script>